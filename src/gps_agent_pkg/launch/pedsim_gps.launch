<launch>

  <!-- main simulator node -->
  <node name="pedsim_simulator" pkg="pedsim_simulator" type="pedsim_simulator">
      <!-- 0 - headless, 1 - minimal, 2 - full -->
      <param name="visual_mode" value="2" type="int"/>
      <param name="scene_file" value="$(find pedsim_simulator)scenarios/scene4.xml" type="string"/>
      <param name="default_queue_size" value="10"/>
      <param name="max_robot_speed" value="2.5" type="double"/>
      <param name="robot_radius" value="0.4" type="double"/>
      <param name="robot_forceSocial_weight" value="10.0" type="double"/>
      <param name="robot_mode" value="1" type="int"/>
      <param name="enable_groups" value="true" type="bool"/>
      <param name="move_cycle" value="true" type="bool"/>
  </node>

  <!-- visualization -->
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find pedsim_simulator)/rviz/social_contexts_activities.rviz"/>

  <!-- Robot control -->
  <group ns="/pedbot/control">
    <!-- robot driving controller -->
    <node name="driving_controller" type="simulate_diff_drive_robot" pkg="pedsim_simulator" output="screen">
        <param name="pose_initial_x" value="4.0"/>
        <param name="pose_initial_y" value="4.0"/>
        <param name="pose_initial_theta" value="0.70"/>
    </node>

  </group>

</launch>
